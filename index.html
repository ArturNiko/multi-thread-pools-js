<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Vite App</title>
</head>
<body>
<div id="app"></div>
<script type="module">
    import Threads from "./dist/main.js"

    //example part
    async function initializeThreads(){
        window.Threads = Threads
        Threads.initialize(20)
        console.log(Object.values(Threads))
        Object.values(Threads).forEach(thread => {
            thread.create(testFunc)
        })

        console.log(await Threads.Thread_2.run(Threads.Thread_2.name))


        console.log(await Threads.test(false))


        function testFunc(message) {
            const start = performance.now()
            let value = 0
            for (let i = 0; i < 1000000000; i++) value += i
            postMessage({exec_time: performance.now() - start, message: message.data})
        }
    }

    initializeThreads().then()


</script>
</body>
</html>
